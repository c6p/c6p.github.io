<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="My CS-537: Introduction to Operating Systems course notes from OSSU curriculum.
History #  Just Libraries #  OS would provide API. Jobs set up and then run in a batch by the operator. Computers were not interactive.
Protection #  The idea of system call invented by Atlas computing system. Instead of providing OS routines as a library (procedure call), special instructions to transition into a more formal, controlled process."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="My CS-537: Introduction to Operating Systems course notes from OSSU curriculum.
History #  Just Libraries #  OS would provide API. Jobs set up and then run in a batch by the operator. Computers were not interactive.
Protection #  The idea of system call invented by Atlas computing system. Instead of providing OS routines as a library (procedure call), special instructions to transition into a more formal, controlled process."><meta property="og:type" content="article"><meta property="og:url" content="/docs/courses/operating_systems/"><title>Operating Systems | c6p - log</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.3f1760b7e4086f42d24bc4d1bc639ebcb27994961aedda8d33f8cbd3ade630e3.css integrity="sha256-Pxdgt+QIb0LSS8TRvGOevLJ5lJYa7dqNM/jL063mMOM="><script defer src=/en.search.min.a93dff5fb62f5f3498c18fc2e0508e0c6ff78d97d2a4c63d49eeccf223b3dd86.js integrity="sha256-qT3/X7YvXzSYwY/C4FCODG/3jZfSpMY9Se7M8iOz3YY="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>c6p - log</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/posts/>Blog</a></li></ul><hr><ul><li><input type=checkbox id=section-7cd66bd2d565ae5bb3c71a81f3ddbfa3 class=toggle>
<label for=section-7cd66bd2d565ae5bb3c71a81f3ddbfa3 class="flex justify-between"><a>Learning</a>
<span>▾</span></label><ul><li><a href=/docs/learning/exercism/>Exercism</a></li><li><a href=/docs/learning/resources/>Resources</a></li></ul></li><li><input type=checkbox id=section-dae2cc4051949457826970813419835e class=toggle checked>
<label for=section-dae2cc4051949457826970813419835e class="flex justify-between"><a>Course Notes</a>
<span>▾</span></label><ul><li><a href=/docs/courses/operating_systems/ class=active>Operating Systems</a></li></ul></li></ul><hr></nav><script integrity="sha256-YOTEaWpzD3vl9uJzu+mnAqXZ6FtydJFha7mYhlhKYU0=">(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg width=24 height=24 class=book-icon alt=Menu></label>
<label for=toc-control><img src=/svg/toc.svg width=24 height=24 class=book-icon alt="Table of Contents"></label></div></header><article class=markdown><p>My <a href=https://pages.cs.wisc.edu/~remzi/Classes/537/Spring2018/>CS-537: Introduction to Operating Systems</a> course notes from <a href=https://github.com/ossu/computer-science#core-systems>OSSU</a> curriculum.</p><h2 id=history>History
<a class=anchor href=#history>#</a></h2><h3 id=just-libraries>Just Libraries
<a class=anchor href=#just-libraries>#</a></h3><p>OS would provide API. Jobs set up and then run in a <code>batch</code> by the operator. Computers were not interactive.</p><h3 id=protection>Protection
<a class=anchor href=#protection>#</a></h3><p>The idea of <code>system call</code> invented by Atlas computing system. Instead of providing OS routines as a library (<code>procedure call</code>), special instructions to transition into a more formal, controlled process.</p><script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.9.3/dist/mermaid.min.js integrity="sha256-OyJHvRcZHaRR6Ig73ppxF4QXk8HzvfgTprRWkulCkfY=" crossorigin=anonymous></script><script integrity="sha256-dMXfWXfYiwlygrN6up6ryi5Ev6c5n464kATEhoKdXQE=">window.onload=function(){mermaid.initialize({"flowchart":{"useMaxWidth":true},"theme":"dark"});}</script><p class=mermaid>graph LR
U(User Mode)
K(Kernel Mode)
U-->|trap|K
K-->|return-from-trap|U</p><h3 id=multiprogramming>Multiprogramming
<a class=anchor href=#multiprogramming>#</a></h3><p>I/O devices were slow, having a program wait CPU was a waste of time. Memory protection and concurrency became critical in the presence of I/O and interrupts. Unix was introduced inspired by TENEX and Berkeley Time-Sharing System.</p><h3 id=modern-era>Modern Era
<a class=anchor href=#modern-era>#</a></h3><p>DOS didn’t think memory protection was important; thus, a malicious application could scribble all over memory. Mac OS(v9 and earlier) took a cooperative approach to job scheduling; thus, a thread that accidentally got stuck in an infinite loop could take over the entire system, forcing a reboot.</p><h2 id=the-process>The Process
<a class=anchor href=#the-process>#</a></h2><p><strong>Time sharing</strong> allows OS to share CPU resource, by <strong>context-switch</strong> (stop a program to run another). A <strong>scheduling policy</strong> let OS to decide which program to run.</p><p><strong>Address space</strong> is the memory the process can address, registers are also part of process&rsquo;s machine state. For example <strong>program counter (PC, or instruction pointer IP)</strong> tells which instruction to execute next, <strong>stack pointer</strong> and associated <strong>frame pointer</strong> are used to manage the stack for function parameters, local variables and return addresses.<figure><img src=/attachments/2021-04-28-12-29-07_program_to_process.png srcset="/attachments/2021-04-28-12-29-07_program_to_process.png 421w,/attachments/2021-04-28-12-29-07_program_to_process_hucb16289385576c4c14e6f78b9c49dfd5_9762_192x0_resize_box_2.png 192w" width=421 height=496 alt></figure></p><p>In early OSes loading done eagerly, modern OSes perform it lazily by <strong>paging</strong> and <strong>swapping</strong>.</p><h3 id=process-states>Process States
<a class=anchor href=#process-states>#</a></h3><p><p class=mermaid>graph LR
R(Running)
B(Blocked)
E(Ready)
R-->|Descheduled|E
E-->|Scheduled|R
R-->|I/O initiate|B
B-->|I/O done|E</p><strong>Running</strong>: executing instructions<br><strong>Ready</strong>: ready, but OS has chosen not to run<br><strong>Blocked</strong>: not ready. I/O request etc.<br>These decisions are made by OS <strong>scheduler</strong>.</p><table><thead><tr><th>Time</th><th>Process<sub>0</sub></th><th>Process<sub>1</sub></th><th>Notes</th></tr></thead><tbody><tr><td>1</td><td>Running</td><td>Ready</td><td></td></tr><tr><td>2</td><td>Running</td><td>Ready</td><td></td></tr><tr><td>3</td><td>Running</td><td>Ready</td><td>Process<sub>0</sub> /subinit>ates I/O</td></tr><tr><td>4</td><td>Blocked</td><td>Running</td><td>Process<sub>0</sub> is blocked,</td></tr><tr><td>5</td><td>Blocked</td><td>Running</td><td>so Process<sub>1</sub> runs</td></tr><tr><td>6</td><td>Blocked</td><td>Running</td><td></td></tr><tr><td>7</td><td>Ready</td><td>Running</td><td>I/O done</td></tr><tr><td>8</td><td>Ready</td><td>Running</td><td>Process<sub>1</sub> now done</td></tr><tr><td>9</td><td>Running</td><td>–</td><td></td></tr><tr><td>10</td><td>Running</td><td>–</td><td>Process<sub>0</sub> now done</td></tr></tbody></table><h3 id=process-api>Process API
<a class=anchor href=#process-api>#</a></h3><p><strong>Shell</strong> run code after the call to <code>fork()</code> (to create a new child process by copying parent) but before the call to <code>exec()</code> (to run the command); this code can alter the environment of the about-to-be-run program, and then waits for the command to complete by calling <code>wait()</code>. When the child completes, shell returns, ready for next command. This enables features like input/output redirection, pipes.</p><p>Each process has a name, in most systems a number, <strong>process ID (PID)</strong>. Control is available in the form of <strong>signals</strong> to stop, continue, terminate.</p><p>The control is encapsulated by the notion of <strong>user</strong>, whom can only control their own processes. A <strong>superuser</strong> can control all processes.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label><label for=toc-control class="hidden book-toc-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#history>History</a><ul><li><a href=#just-libraries>Just Libraries</a></li><li><a href=#protection>Protection</a></li><li><a href=#multiprogramming>Multiprogramming</a></li><li><a href=#modern-era>Modern Era</a></li></ul></li><li><a href=#the-process>The Process</a><ul><li><a href=#process-states>Process States</a></li><li><a href=#process-api>Process API</a></li></ul></li></ul></nav></aside></main></body></html>